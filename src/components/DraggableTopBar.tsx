import clsx from "clsx";
import { motion } from "framer-motion";
import { ComponentProps } from "react";
import { twMerge } from "tailwind-merge";

export interface DraggableTopBarProps extends ComponentProps<"div"> {
    hideLogo?: boolean;
}

export const DraggableTopBar = ({
    hideLogo,
    className,
    ...props
}: DraggableTopBarProps) => {
    return (
        <div
            className={twMerge(
                "draggabletopbar absolute inset-0 h-10 bg-transparent flex justify-center align-middle items-center",
                className
            )}
            {...props}>
            <motion.svg
                animate={{ opacity: 1, y: [-100, 0] }}
                transition={{
                    opacity: { duration: 0.05 },
                    y: {
                        duration: 0.5,
                        type: "spring",
                        mass: 2.5,
                        stiffness: 800,
                        damping: 35,
                    },
                }}
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 131.42797 19.478"
                height="20%"
                className={twMerge(
                    "opacity-0 mt-[3px] draggabletopbar",
                    clsx({ hidden: hideLogo })
                )}>
                <path
                    id="icon-Logo"
                    d="m49.717,12.751l-.234.234c-.117.117-3.1,3.1-4.153,6.083h-5.206c1.17-4.445,6.902-9.008,6.96-9.066l.292-.234-.292-.234c-.059-.059-5.03-4.211-6.902-8.891h5.264c1.228,3.685,3.86,5.849,3.977,5.908l.175.175.175-.175c.117-.117,2.808-2.281,4.094-5.908h5.264c-1.989,4.679-6.96,8.832-7.019,8.891l-.292.234.292.234c.059.059,5.791,4.562,7.077,9.066h-5.206c-.994-2.925-4.094-5.966-4.211-6.083l-.059-.234h.004Zm-19.653,6.668c3.919,0,6.434-1.638,7.311-2.34-.585-.292-2.632-1.287-2.925-1.462-.409.468-1.755.936-3.977.936-2.749,0-3.919-1.17-3.919-5.147v-.292h.292c4.504,0,7.896-.819,10.821-2.691.059-.234.234-.994.234-1.638,0-3.042-2.047-6.551-7.779-6.551-6.083,0-9.066,3.159-9.066,9.592,0,6.726,2.691,9.592,9.008,9.592v.001Zm-3.509-10.937c0-2.808.409-5.557,3.685-5.557,1.696,0,2.866.819,2.866,2.925,0,.643-.351,1.345-.351,1.404l-.059.117-.175.117c-1.638.877-2.515,1.345-5.674,1.345h-.292v-.351Zm-9.359,1.169C17.196,3.159,13.92,0,7.253,0H0v19.419h7.253c6.668-.058,9.943-3.217,9.943-9.768ZM5.323,2.983h2.106c.468,0,.936.058,1.462.234,1.696.877,2.515,2.574,2.515,6.492,0,4.328-.994,6.083-3.1,6.726l-.877.058h-2.106V2.982v.001Zm121.01697,16.027V5.499c0-1.93-.234-2.515-1.638-2.515-2.457,0-3.451,1.696-3.509,1.755l-.058.059v14.213h-5.206V5.5c0-1.93-.234-2.515-1.638-2.515-2.457,0-3.451,1.696-3.509,1.755l-.058.059v14.213h-5.147V4.389c0-1.228-1.228-2.398-2.574-3.1,1.053-.292,3.977-1.17,4.153-1.228.585.234,1.989.877,2.398,1.462l.175.234.234-.175s2.34-1.462,5.381-1.462c2.223,0,3.802.409,4.738,1.287l.175.117.175-.058c1.93-.877,3.685-1.345,5.264-1.345,4.211,0,5.73199,1.696,5.73199,3.276v15.617h-5.089l.00101-.004Zm-58.54901-9.183c0,4.913,1.345,6.726,4.211,6.726,2.164,0,3.275-.409,3.685-.877.351.175,2.398,1.228,2.983,1.521-.76.643-3.1,2.281-6.785,2.281-6.376,0-9.709-3.334-9.709-9.592,0-6.317,3.334-9.592,9.709-9.592,3.685,0,6.025,1.638,6.785,2.281-.585.292-2.632,1.345-2.983,1.521-.409-.468-1.462-.877-3.626-.877-2.925-.117-4.27,1.638-4.27,6.609v-.001ZM90.427.176c-5.791,0-9.3,3.568-9.3,9.592s3.451,9.593,9.3,9.593c5.791,0,9.183-3.568,9.183-9.592.058-5.966-3.392-9.592-9.183-9.592v-.001Zm0,16.143c-2.515,0-3.626-1.579-3.626-6.492s1.111-6.492,3.626-6.492c2.457,0,3.509,1.521,3.509,6.492.058,4.972-.994,6.492-3.509,6.492Z"
                    className={twMerge(
                        "draggabletopbar",
                        "fill-dex-text-muted"
                    )}
                />
            </motion.svg>
        </div>
    );
};
